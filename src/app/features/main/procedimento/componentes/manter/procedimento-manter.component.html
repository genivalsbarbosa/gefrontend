<ge-titulo titulo="Procedimento Incluir" [migalhas]="[{'nome': 'Consulta', 'url': 'procedimento'}, {'nome': 'Incluir', 'url': 'procedimento/incluir'}]"></ge-titulo>
<!--
<h2 class="card-title">Procedimento Incluir</h2>
<h5 class="card-subtitle mb-2 text-body-secondary">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Procedimento</a></li>
            <li class="breadcrumb-item active" aria-current="page"><a href="#">Consulta</a></li>
            <li class="breadcrumb-item active" aria-current="page"><a href="#">Incluir</a></li>
        </ol>
    </nav>
</h5>
-->

<ge-accordion titulo="Procedimento">
    <div class="row">
        <div class="col-lg-6 col-xm-12" style="padding-bottom: 10px;">

            <ge-dropdown
                identificador="empresa"
                nome="Empresa"
                [listaitem]="listaEmpresaItem"
                [(item)]="procedimento.empresa.id"
                [carregando]="carregandoEmpresa">
            </ge-dropdown>
            
        </div>

        <div class="col-lg-6 col-xm-12" style="padding-bottom: 10px;">

            <ge-dropdown
                identificador="competencia"
                nome="Competência"
                [listaitem]="listaCompetenciaItem"
                [(item)]="procedimento.competencia.id"
                [carregando]="carregandoCompetencia">
            </ge-dropdown>

        </div>

        <div class="col-lg-12 col-xm-12" style="padding-bottom: 10px;">
            <label for="exampleFormControlInput1" class="form-label">Tabela SigTap:</label>
            <p-pickList 
                [source]="listaTabelaSigTabItem" 
                [target]="listaTabelaSigTabItemSelecionada" 
                sourceHeader="Disponíveis" 
                targetHeader="Selecionados" 
                [dragdrop]="true" 
                [responsive]="true" 
                [sourceStyle]="{'height':'30rem' }"
                [targetStyle]="{'height':'30rem' }"
                filterBy="procedimento" 
                sourceFilterPlaceholder="Procurar" 
                targetFilterPlaceholder="Procurar" 
                breakpoint="1400px">
                <ng-template let-dominio pTemplate="item">
                    <div class="flex flex-wrap p-2 align-items-center gap-3">
                        <p>{{ dominio.nome }}</p>
                        <!--
                        <img class="w-4rem shadow-2 flex-shrink-0 border-round" 
                        src="https://primefaces.org/cdn/primeng/images/demo/product/{{ product.image }}" 
                        alt="{item.name}" />
                        <div class="flex-1 flex flex-column gap-2">
                            <span class="font-bold">{{ dominio.procedimento }}</span>
                            <div class="flex align-products-center gap-2">
                                <i class="pi pi-tag text-sm"></i>
                                <span>{{ product.category }}</span>
                            </div>
                        </div>
                        <span class="font-bold text-900">{{ '$' + product.price }}</span>
                        -->

                    </div>
                </ng-template>
            </p-pickList>
        </div>

        <!--
        <div class="col-lg-4 col-xm-12" style="padding-bottom: 10px;">
            <label for="exampleFormControlInput1" class="form-label">Tabela SigTap:</label>
            <select class="form-select" aria-label="Default select example" [(ngModel)]="procedimentoFiltro.tabelaSigTap.id">
                <option *ngFor="let tabelaSigTab of listaTabelaSigTab" [ngValue]="tabelaSigTab.id">
                    {{tabelaSigTab.procedimento}}
                </option>
            </select>
        </div>
        -->

        <!--
        <div class="col-lg-4 col-xm-12" style="padding-bottom: 10px;">
            <label for="exampleFormControlInput1" class="form-label">Valor da tabela:</label>
            <input type="text" class="form-control"/>
        </div>

        <div class="col-lg-4 col-xm-12" style="padding-bottom: 10px;">
            <label for="exampleFormControlInput1" class="form-label">Quantidade de Pontos:</label>
            <input type="text" class="form-control"/>
        </div>

        <div class="col-lg-4 col-xm-12" style="padding-bottom: 10px;">
            <label for="exampleFormControlInput1" class="form-label">Valor do Ponto:</label>
            <input type="text" class="form-control"/>
        </div>
        -->
    </div>
</ge-accordion>

<ge-accordion titulo="Anestesista">
 
    <div class="row">

        <div class="col-lg-6 col-xm-12" style="padding-bottom: 10px;">

            <ge-dropdown
                identificador="anestesia"
                nome="Anestesista"
                [obrigatorio]="true"
                [desabilitar]="false"
                [listaitem]="listaUsuarioItem"
                [(item)]="procedimento.anestesista.id"
                [carregando]="carregandoUsuario">
            </ge-dropdown>

        </div>

        <div class="col-lg-6 col-xm-12 p-fluid" style="padding-bottom: 10px;">
            <ge-inputtext
                identificador="valoranestesia"
                nome="Valor"
                [obrigatorio]="true"
                [tamanho]="5"
                [desabilitar]="false"
                [(valor)]="procedimento.valorAnestesista"
                (perderfoco)="testePerderfoco">
            </ge-inputtext>
        </div>
        
    </div>
</ge-accordion>

<ge-accordion titulo="Cirurgião">

    <div class="row">
        <div class="col-lg-6 col-xm-12" style="padding-bottom: 10px;">
            <ge-dropdown
                identificador="cirurgiao"
                nome="Cirurgião"
                [obrigatorio]="true"
                [desabilitar]="false"
                [listaitem]="listaUsuarioItem"
                [(item)]="procedimento.cirurgiao.id"
                [carregando]="carregandoUsuario">
            </ge-dropdown>
        </div>

        <div class="col-lg-6 col-xm-12 p-fluid" style="padding-bottom: 10px;">
            <ge-inputtext
                identificador="valorcirurgiao"
                nome="Valor"
                [obrigatorio]="true"
                [tamanho]="5"
                [desabilitar]="false"
                [(valor)]="procedimento.valorCirurgiao"
                (perderfoco)="testePerderfoco">
            </ge-inputtext>
        </div>

    </div>

</ge-accordion>

<ge-accordion titulo="Primeiro Auxiliar">

    <div class="row">
        <div class="col-lg-6 col-xm-12" style="padding-bottom: 10px;">
            <ge-dropdown
                identificador="primeiroauxiliar"
                nome="Primeiro Auxiliar"
                [obrigatorio]="true"
                [desabilitar]="false"
                [listaitem]="listaUsuarioItem"
                [(item)]="procedimento.primeiroAuxiliar.id"
                [carregando]="carregandoUsuario">
            </ge-dropdown>
        </div>
        <div class="col-lg-6 col-xm-12 p-fluid" style="padding-bottom: 10px;">
            <ge-inputtext
                identificador="valorprimeiroauxiliar"
                nome="Valor"
                [obrigatorio]="true"
                [tamanho]="5"
                [desabilitar]="false"
                [(valor)]="procedimento.valorPrimeiroAuxiliar"
                (perderfoco)="testePerderfoco">
            </ge-inputtext>
        </div>
    </div>

</ge-accordion>

<ge-accordion titulo="Segundo Auxiliar">

    <div class="row">
        <div class="col-lg-6 col-xm-12" style="padding-bottom: 10px;">
            <ge-dropdown
                identificador="segundoauxiliar"
                nome="Segundo Auxiliar"
                [obrigatorio]="true"
                [desabilitar]="false"
                [listaitem]="listaUsuarioItem"
                [(item)]="procedimento.segundoAuxiliar.id"
                [carregando]="carregandoUsuario">
            </ge-dropdown>
        </div>
        <div class="col-lg-6 col-xm-12 p-fluid" style="padding-bottom: 10px;">
            <ge-inputtext
                identificador="valorsegundoauxiliar"
                nome="Valor"
                [obrigatorio]="true"
                [tamanho]="5"
                [desabilitar]="false"
                [(valor)]="procedimento.valorSegundoAuxliar"
                (perderfoco)="testePerderfoco">
            </ge-inputtext>
        </div>
    </div>

</ge-accordion>

<div class="row">
    <div class="col-lg-12" style="padding-bottom: 10px;">
        <button
            class="btn btn-primary"
            style="margin-right: 8px;"
            type="button"
            (click)="voltar()" > 
            Voltar 
        </button>

        <button
            class="btn btn-primary"
            type="button"
            (click)="salvar()" > 
            Salvar 
        </button>
    </div>
</div>


